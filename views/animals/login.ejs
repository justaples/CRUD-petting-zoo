
<h1>Login</h1>

<div id="g_id_onload"
     data-client_id="759421975160-7rbkok2ru09c2j645289ca05ob006aoi.apps.googleusercontent.com"
     data-context="signin"
     data-ux_mode="popup"
     data-login_uri="http://localhost:8080"
     data-auto_prompt="false">
</div>

<div class="g_id_signin"
     data-type="standard"
     data-shape="pill"
     data-theme="outline"
     data-text="signin_with"
     data-size="large"
     data-logo_alignment="center">
</div>
    
<!-- <div class="g-signin2" data-onsuccess="onSignIn"></div> -->


<script>
    function onSignIn(googleUser) {
  var id_token = googleUser.getAuthResponse().id_token;
  console.log(id_token)
  var xhr = new XMLHttpRequest();
xhr.open('POST', '/animals/login');
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.onload = function() {
  console.log('Signed in as: ' + xhr.responseText);
};
xhr.send(JSON.stringify({token: id_token}));
}
</script>
<a href="#" onclick="signOut();">Sign out</a>
<script>
  function signOut() {
    var auth2 = gapi.auth2.getAuthInstance();
    auth2.signOut().then(function () {
      console.log('User signed out.');
    });
  }
</script>